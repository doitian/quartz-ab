diff --git a/quartz/util/path.ts b/quartz/util/path.ts
index b957701..23322ba 100644
--- a/quartz/util/path.ts
+++ b/quartz/util/path.ts
@@ -237,11 +237,27 @@ export function transformLink(src: FullSlug, target: string, opts: TransformOpti
     let [targetCanonical, targetAnchor] = splitAnchor(canonicalSlug)
 
     if (opts.strategy === "shortest") {
-      // if the file name is unique, then it's just the filename
+      // Try to match the target path against slugs
+      // First, extract the target file/path parts
+      const targetParts = targetCanonical.split("/")
+      
       const matchingFileNames = opts.allSlugs.filter((slug) => {
-        const parts = slug.split("/")
-        const fileName = parts.at(-1)
-        return targetCanonical === fileName
+        const slugParts = slug.split("/")
+        
+        // Check if the slug ends with the target path
+        // For example, if target is "bft-consensus/fundamentals"
+        // it should match "bft-consensus-analysis/bft-consensus/fundamentals"
+        if (targetParts.length > slugParts.length) {
+          return false
+        }
+        
+        // Compare from the end
+        for (let i = 0; i < targetParts.length; i++) {
+          if (slugParts[slugParts.length - targetParts.length + i] !== targetParts[i]) {
+            return false
+          }
+        }
+        return true
       })
 
       // only match, just use it
